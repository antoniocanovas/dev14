<?xml version='1.0' encoding='UTF-8'?>
<odoo>

    <record id="project_project_roadmap_search_inh" model="ir.ui.view">
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <data>
                <filter name="my_projects" position="after">
                    <filter string="On the road" name="roadmap" domain="[('roadmap_count','!=',0)]"/>
                </filter>
            </data>
        </field>
        <field name="field_parent" eval="False"/>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="inherit_id" ref="project.view_project_project_filter"/>
        <field name="key" eval="False"/>
        <field name="mode">extension</field>
        <field name="model">project.project</field>
        <field name="name">Project Roadmap Search Inherit</field>
        <field name="priority">99</field>
        <field name="type">search</field>
    </record>

    <record id="project_project_roadmap_form_inh" model="ir.ui.view">
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//sheet/div[@name='button_box']" position="inside">
                    <button class="oe_stat_button" icon="fa-dedent" type="action" name="%(project_roadmap.action_view_project_2_roadmap)d">
                        <field string="Roadmap" widget="statinfo" name="roadmap_count" />
                    </button>
                </xpath>
            </data>
        </field>
        <field name="field_parent" eval="False"/>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="key" eval="False"/>
        <field name="mode">extension</field>
        <field name="model">project.project</field>
        <field name="name">Project Roadmap Form Inherit</field>
        <field name="priority">99</field>
        <field name="type">form</field>
    </record>

    <record id="project_roadmap_inh_kanban_view" model="ir.ui.view">
        <field name="name">Roadmap kanban view inh</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.view_project_kanban"/>
        <field name="arch" type="xml">
            <field name="task_count" position="after">
                <field name="roadmap_count"/>
            </field>
            <xpath expr="//templates/t/div/div[2]" position="inside">
                <a class="o_project_kanban_box" name="%(project_roadmap.action_view_project_2_roadmap)d" type="action">
                    <div>
                        <span class="o_value"><t t-esc="record.roadmap_count.value"/></span>
                        <span class="o_label">Roadmap Phase(s)</span>
                    </div>
                </a>
            </xpath>
        </field>
    </record>

</odoo>
