<?xml version='1.0' encoding='UTF-8'?>
<odoo>

    <record id="sale_target_default_form" model="ir.ui.view">
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button class="oe_highlight" type="action" name="sale_target.sale_target_update" string="Actualizar"/>
                </header>
                <sheet string="Objetivos">
                    <h2>
                        <field name="name"/>
                    </h2>
                    <notebook name="carpetas_objetivos">
                        <page name="objetivo_resultados" string="Resumen">
                            <group name="target_lead_quotation" col="1">
                                <field name="sale_vs_target" widget="gauge"
                                       options="{'max_field':'target'}" nolabel="1"
                                       attrs="{'invisible':[('target_lt_sale','=',True)]}"
                                       help="You are under target, this is your pending roadmap."/>
                                <field name="sale_over_target" widget="gauge"
                                       options="{'max_field':'target_multiple'}" nolabel="1"
                                       attrs="{'invisible':[('target_lt_sale','=',False)]}"
                                       help="Congrations !! Your target is done and exceeded !!"/>

                                <field name="gap_vs_lead" string="Gap Vs Leads" widget="gauge"
                                       options="{'max_field':'lead_amount'}" nolabel="1"
                                       attrs="{'invisible':['|',('lead_lt_gap','=',True),('target_lt_sale','=',True)]}"/>
                                <field name="lead_vs_gap" string="Leads vs Gap" widget="gauge"
                                       options="{'max_field':'target_gap'}" nolabel="1"
                                       attrs="{'invisible':['|',('lead_lt_gap','=',False),('target_lt_sale','=',True)]}"/>
                                <field name="lead_over_target" string="Adtional Leads" widget="gauge"
                                       options="{'max_field':'lead_over_target'}" nolabel="1"
                                       attrs="{'invisible':[('target_lt_sale','=',False)]}"/>

                                <field name="gap_vs_quotation" string="Gap Vs Quotations" widget="gauge"
                                       options="{'max_field':'quotation_amount'}" nolabel="1"
                                       attrs="{'invisible':['|',('quotation_lt_gap','=',True),('target_lt_sale','=',True)]}"/>
                                <field name="quotation_vs_gap" string="Quotations vs Gap" widget="gauge"
                                       options="{'max_field':'target_gap'}" nolabel="1"
                                       attrs="{'invisible':['|',('quotation_lt_gap','=',False),('target_lt_sale','=',True)]}"/>
                                <field name="quotation_over_target" string="Adtional Leads" widget="gauge"
                                       options="{'max_field':'quotation_over_target'}" nolabel="1"
                                       attrs="{'invisible':[('target_lt_sale','=',False)]}"/>

                            </group>
                            <group name="target_magins">
                                <field name="quotation_margin" widget="gauge" options="{'max_field':'quotation_amount'}" nolabel="1"/>
                                <field name="sale_margin" widget="gauge" options="{'max_field':'sale_amount'}" nolabel="1"/>
                            </group>
                        </page>
                        <page name="objetivo_configuracion" string="General">
                            <group>
                                <field name="user_id" on_change="1" can_create="true" can_write="true" modifiers="{}"/>
                                <field name="team_id" can_create="true" can_write="true" readonly="1"/>
                                <field name="target_year" modifiers="{}"/>
                                <field name="target" modifiers="{}"/>
                                <field name="target_gap" invisible="1"/>
                                <field name="lead_lt_gap" invisible="1"/>
                                <field name="quotation_lt_gap" invisible="1"/>
                                <field name="target_lt_sale" invisible="1"/>
                                <field name="target_multiple" invisible="1"/>
                            </group>
                            <group>
                                <field name="lead_count" readonly="1"/>
                                <field name="lead_amount" readonly="1"/>
                                <field name="quotation_count" readonly="1"/>
                                <field name="quotation_amount" readonly="1"/>
                            </group>
                            <group>
                                <field name="sale_count" readonly="1"/>
                                <field name="sale_amount" readonly="1"/>
                                <field name="invoiced_amount" readonly="1"/>
                                <field name="currency_id" invisible="1"/>
                            </group>
                        </page>
                        <page name="objetivo_trimestres" string="Trimestres">
                            <field name="quarter_ids"/>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
        <field name="field_parent" eval="False"/>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="inherit_id" eval="False"/>
        <field name="key" eval="False"/>
        <field name="mode">primary</field>
        <field name="model">sale.target</field>
        <field name="name">Default Sale Target form view</field>
        <field name="priority">16</field>
        <field name="type">form</field>
    </record>

    <!-- SALE_TARGET TREE VIEW: -->
    <record id="sale_target_default_tree" model="ir.ui.view">
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <tree string="Targets">
                <field name="name"/>
                <field name="team_id" optional="hide"/>
                <field name="lead_count" sum="Leads" optional="show"/>
                <field name="lead_amount" sum="Possible" widget="monetary" optional="show"/>
                <field name="quotation_count" sum="Quotations" optional="show"/>
                <field name="quotation_amount" sum="Quotations" widget="monetary" optional="show"/>
                <field name="invoiced_amount" sum="Invoiced" widget="monetary" optional="hide"/>
                <field name="currency_id" invisible="1"/>
            </tree>
        </field>
        <field name="field_parent" eval="False"/>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="inherit_id" eval="False"/>
        <field name="key" eval="False"/>
        <field name="mode">primary</field>
        <field name="model">sale.target</field>
        <field name="name">Default sale target tree view</field>
        <field name="priority">16</field>
        <field name="type">tree</field>
    </record>

    <!-- SALE_TARGET_QUARTER TREE VIEW: -->
    <record id="sale_target_quarter_default_tree" model="ir.ui.view">
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <tree string="Target - Quarters" create="0">
                <field name="name"/>
                <field name="lead_count" optional="show"/>
                <field name="lead_amount" widget="monetary"/>
                <field name="quotation_count" optional="hide"/>
                <field name="revision_count" optional="hide"/>
                <field name="sale_count" optional="hide"/>
                <field name="sale_amount" widget="monetary" optional="show"/>
                <field name="currency_id" invisible="1"/>
            </tree>
        </field>
        <field name="field_parent" eval="False"/>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="inherit_id" eval="False"/>
        <field name="key" eval="False"/>
        <field name="mode">primary</field>
        <field name="model">sale.target.quarter</field>
        <field name="name">Default sale target quarter tree view</field>
        <field name="priority">16</field>
        <field name="type">tree</field>
    </record>


    <!-- voy por aquÃ­ -->

    <record id="action_view_sale_target" model="ir.actions.act_window">
        <field name="binding_model_id" eval="False"/>
        <field name="binding_type">action</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="help"></field>
        <field name="limit">80</field>
        <field name="name">Targets</field>
        <field name="res_model">sale.target</field>
        <field name="target">current</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_id" ref="sale_target_default_tree"/>
        <field name="usage" eval="False"/>
        <field name="view_mode">tree,form</field>
    </record>


    <record id="action_view_sale_target_quarter" model="ir.actions.act_window">
        <field name="binding_model_id" eval="False"/>
        <field name="binding_type">action</field>
        <field name="context">{}</field>
        <field name="domain">[]</field>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="help"></field>
        <field name="limit">80</field>
        <field name="name">Quarters</field>
        <field name="res_model">sale.target.quarter</field>
        <field name="target">current</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_id" ref="sale_target_quarter_default_tree"/>
        <field name="usage" eval="False"/>
        <field name="view_mode">tree,form</field>
    </record>

</odoo>